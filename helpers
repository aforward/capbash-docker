#!/bin/bash
START=${START-ignore}
DEBUG=${DEBUG-ignore}
DEV=${DEV-ignore}
DEV_LAUNCHER=${DEV_LAUNCHER-/bin/bash}

VERSION=${VERSION-latest}
IMAGE_NAME=${IMAGE_NAME-$NAME:$VERSION}
OWNER=${OWNER-$USER}

OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR ./submodules/docker/stop
OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR ./submodules/docker/running
OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR ./submodules/docker/restart
OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR ./submodules/docker/idempot
OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR ./submodules/docker/ip

if [[ "$START" != "ignore"  ]]; then
  OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR DOCKER=$START ./submodules/docker/start
fi

if [[ "$DEBUG" != "ignore"  ]]; then
  OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR DOCKER=$DEBUG ./submodules/docker/debug
fi

if [[ "$DEV" != "ignore"  ]]; then
  OWNER=$OWNER NAME=$NAME IMAGE_NAME=$IMAGE_NAME HOST=$HOST DIR=$DIR DOCKER=$DEV SCRIPT_NAME=dev SCRIPT_LAUNCHER=$DEV_LAUNCHER ./submodules/docker/debug
fi